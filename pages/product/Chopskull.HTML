<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CHOPSKULL BUCKLE</title>

    <!-- === Adaptive Favicon (TRUST) === -->
    <link
      rel="icon"
      href="../../assets/img/trustlogo.svg"
      type="image/svg+xml"
      media="(prefers-color-scheme: light)"
    />
    <link
      rel="icon"
      href="../../assets/img/trustlogo.svg"
      type="image/svg+xml"
      media="(prefers-color-scheme: dark)"
    />

    <!-- === Bootstrap CSS === -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- === Google Font (Montserrat) === -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- === Font Awesome === -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- === PHOTOSWIPE CSS === -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/photoswipe@5/dist/photoswipe.css"
    />

    <!-- === Custom CSS === -->
    <link rel="stylesheet" href="../../assets/css/style-subpage.css" />
    <link rel="stylesheet" href="../../assets/css/product.css" />
  </head>

  <body>
    <!-- === NAVBAR === -->
    <nav id="navbar" class="navbar navbar-expand-lg fixed-top">
      <div class="container-fluid px-4">
        <!-- MOBILE CART (kiri) -->
        <div class="cart-container d-lg-none">
          <i class="fas fa-shopping-cart cart-icon"></i>
          <span class="cart-count">0</span>
        </div>

        <!-- LOGO tengah (mobile) -->
        <a class="navbar-brand mx-auto mobile-logo-center" href="../../index.html">
          <img
            src="../../assets/img/trustlogo.svg"
            alt="Logo"
            height="40"
            id="nav-logo"
          />
        </a>

        <!-- HAMBURGER TOGGLER -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navMenu"
          aria-controls="navMenu"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- MENU (desktop & mobile) -->
        <div class="collapse navbar-collapse justify-content-end" id="navMenu">
          <div class="mobile-logo text-center mb-4 d-lg-none">
            <img
              src="../../assets/img/trustlogo.svg"
              alt="Logo"
              class="mobile-nav-logo"
            />
          </div>

          <ul class="navbar-nav mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="../Chopskull.html">CHOPSKULL</a>
            </li>

            <!-- DROPDOWN MENU CATEGORIES -->
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle d-flex align-items-center"
                href="#"
                id="categoriesDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                CATEGORIES
                <i class="fas fa-chevron-down ms-1"></i>
              </a>
              <ul class="dropdown-menu" aria-labelledby="categoriesDropdown">
                <li><a class="dropdown-item" href="../buckle.html">BUCKLE</a></li>
                <li><a class="dropdown-item" href="../pendant.html">PENDANT</a></li>
                <li><a class="dropdown-item" href="../accessories.html">ACCESSORIES</a></li>
              </ul>
            </li>

            <li class="nav-item"><a class="nav-link" href="../custom.html">CUSTOM</a></li>
            <li class="nav-item"><a class="nav-link" href="../look.html">LOOK</a></li>
            <li class="nav-item"><a class="nav-link" href="../sale.html">SALE</a></li>
          </ul>

          <!-- Currency Selector (Mobile) -->
          <div class="currency-selector d-lg-none mt-3">
            <select
              id="currencySelectMobile"
              class="form-select bg-transparent text-white border-0 border-bottom"
            >
              <option value="IDR">IDR</option>
              <option value="USD">USD</option>
              <option value="SGD">SGD</option>
              <option value="MYR">MYR</option>
            </select>
          </div>

          <!-- DESKTOP RIGHT SECTION -->
          <div class="navbar-right d-none d-lg-flex">
            <div class="navbar-divider"></div>

            <div class="cart-container">
              <i class="fas fa-shopping-cart cart-icon"></i>
              <span class="cart-count">0</span>
            </div>

            <div class="currency-selector ms-2">
              <select id="currencySelect">
                <option value="IDR">IDR</option>
                <option value="USD">USD</option>
                <option value="SGD">SGD</option>
                <option value="MYR">MYR</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- === CART SIDEBAR === -->
    <div id="cartSidebar" class="cart-sidebar">
      <div class="cart-sidebar-header">
        <h5>Your Cart</h5>
        <button id="closeCart" class="close-btn">&times;</button>
      </div>
      <hr class="cart-divider" />

      <div class="cart-sidebar-body" id="cartItems">
        <p class="empty-cart-text">No products in the cart.</p>
      </div>

      <div class="cart-sidebar-footer">
        <div class="cart-total">
          <span>Total:</span>
          <strong id="cartTotal">Rp 0</strong>
        </div>
        <button class="checkout-btn" id="checkoutBtn" disabled>Checkout</button>
      </div>
    </div>

    <div id="cartOverlay" class="cart-overlay"></div>

    <!-- === PRODUCT SECTION === -->
    <section class="product-page container">
      <div class="product-gallery">
        <!-- === LIST THUMBNAIL === -->
        <div class="thumbnail-list">
          <img
            src="../../assets/img/product/chopskull3gold.png"
            alt="Gold Belt"
            class="thumbnail active"
            data-image="../../assets/img/product/chopskull3gold.png"
          />
          <img
            src="../../assets/img/product/chopskullsilver.png"
            alt="Silver Belt"
            class="thumbnail"
            data-image="../../assets/img/product/chopskullsilver.png"
          />
        </div>

        <!-- === GAMBAR UTAMA === -->
        <div class="main-image">
          <button class="arrow prev"><i class="fas fa-chevron-left"></i></button>

          <img
            id="mainProductImage"
            src="../../assets/img/product/chopskull3gold.png"
            alt="Chop Skull Belt"
            class="product-image"
          />

          <div class="zoom-icon">
            <img src="../../assets/img/icon/zoom.svg" alt="Zoom" />
          </div>

          <div id="pswp-gallery" class="pswp-gallery" style="display: none;">
            <a href="../../assets/img/product/chopskull3gold.png" data-pswp-width="1600" data-pswp-height="2000"></a>
            <a href="../../assets/img/product/chopskullsilver.png" data-pswp-width="1600" data-pswp-height="2000"></a>
          </div>

          <button class="arrow next"><i class="fas fa-chevron-right"></i></button>
        </div>
      </div>

      <div class="product-info">
        <h4 class="product-category">Leather Belt Collection</h4>
        <h1 class="product-name">CHOPSKULL BUCKLE & BELT</h1>
        <p class="product-price" id="price" data-price="375.000">Rp 375.000</p>

        <!-- === WARNA === -->
        <div class="product-color">
          <label>Colour:</label>
          <div class="color-options">
            <button
              class="color-btn gold active"
              data-color="gold"
              data-image="../../assets/img/product/chopskull3gold.png"
            ></button>
            <button
              class="color-btn silver"
              data-color="silver"
              data-image="../../assets/img/product/chopskullsilver.png"
            ></button>
          </div>
        </div>

        <!-- === QUANTITY === -->
        <div class="quantity-box">
          <label>Quantity:</label>
          <div class="qty-controls">
            <button class="qty-btn" id="decrease">−</button>
            <input type="number" id="quantity" value="1" min="1" />
            <button class="qty-btn" id="increase">+</button>
          </div>
        </div>

        <!-- === BUTTONS === -->
        <div class="product-buttons">
          <button class="add-to-cart"><i class="#"></i> Add to Cart</button>
          <a
            href="https://shopee.co.id/CHOPSKULL-Belt-Buckle-Leather-Belt-Bahan-Logam-Ikat-Pinggang-Pria-Lepas-Pasang-MakewithTrust-i.13128031.41510713022"
            target="_blank"
            class="buy-with-shopee"
          >
            Buy with Shopee
            <img src="../../assets/img/icon/shopee.svg" alt="Shopee" />
          </a>
        </div>

        <div class="product-description">
          <h3>Product Details</h3>
          <ul>
            <li>Premium handmade leather</li>
            <li>High quality pewter buckle (Gold / Silver)</li>
            <li>Adjustable and durable strap</li>
            <li>Exclusive limited edition design</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- === RELATED PRODUCTS === -->
    <section class="related-products">
      <div class="container">
        <h2 class="related-title">YOU MAY ALSO LIKE</h2>
        <div class="related-line"></div>
        <div class="related-grid" id="related-products"></div>
      </div>
    </section>

    <!-- === FOOTER === -->
    <footer class="footer bg-black text-white py-5 mt-5">
      <div class="container">
        <div class="row justify-content-between align-items-start">
          <div class="col-md-6 mb-4 mb-md-0">
            <ul class="list-unstyled footer-links">
              <li><a href="#" class="text-white text-decoration-none d-block py-1 border-bottom border-secondary">Refund Policy</a></li>
              <li><a href="#" class="text-white text-decoration-none d-block py-1 border-bottom border-secondary">How To Order</a></li>
              <li><a href="#" class="text-white text-decoration-none d-block py-1 border-bottom border-secondary">FAQ</a></li>
              <li><a href="#" class="text-white text-decoration-none d-block py-1 border-bottom border-secondary">Payment Confirmation</a></li>
            </ul>
            <p class="mt-3 small text-white-50">
              Copyright © 2003 - 2025 MakeWithTrust.
            </p>
          </div>

          <div class="col-md-5 text-center text-md-end">
            <img src="../../assets/img/trustlogo.svg" alt="MakeWithTrust Logo" height="45" class="mb-3 logo-footer" />
            <p class="mb-2 fw-semibold">FIND US ON</p>
            <div class="social-icons">
              <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
              <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
              <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
              <a href="#" class="text-white me-3"><i class="fab fa-youtube"></i></a>
              <a href="#" class="text-white me-3"><i class="fab fa-tiktok"></i></a>
              <a href="#" class="text-white me-3"><i class="fab fa-whatsapp"></i></a>
              <a href="#" class="text-white me-3"><i class="fab fa-line"></i></a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- === SCRIPT === -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/plugin/currency.js"></script>
    <script src="../../assets/js/script.js"></script>
    <script src="../../assets/js/product.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const relatedContainer = document.getElementById("related-products");
  const currentProduct = document.querySelector(".product-name")?.textContent.trim() || "";

  // Ambil semua produk dari index.html
  fetch("../../index.html")
    .then(res => res.text())
    .then(html => {
      const parser = new DOMParser();
      const doc = parser.parseFromString(html, "text/html");

      // ambil semua produk di index.html
      const allProducts = doc.querySelectorAll(".collection-list-item");

      // filter supaya produk yang sedang dibuka tidak ikut muncul
      const filtered = Array.from(allProducts).filter(item => {
        const title = item.querySelector(".product-title")?.textContent.trim();
        return title !== currentProduct && title !== "";
      });

      // acak urutan & ambil 4 produk
      const randomProducts = filtered.sort(() => Math.random() - 0.5).slice(0, 4);

      // tampilkan di bagian “YOU MAY ALSO LIKE”
      randomProducts.forEach(item => {
        const clone = item.cloneNode(true);

        // perbaiki src gambar agar bisa tampil dari folder subpage
        clone.querySelectorAll("img").forEach(img => {
          const src = img.getAttribute("src");
          if (src && !src.startsWith("http") && !src.startsWith("../../")) {
            img.src = "../../" + src;
          }
        });

        // perbaiki link agar menuju subpage yang benar
        const link = clone.querySelector("a");
        if (link && link.getAttribute("href") && !link.getAttribute("href").startsWith("../")) {
          link.href = "../" + link.getAttribute("href");
        }

        relatedContainer.appendChild(clone);
      });
    })
    .catch(err => console.error("Gagal ambil produk:", err));
});
</script>


    <script
      type="module"
      src="https://unpkg.com/photoswipe@5/dist/photoswipe-lightbox.esm.min.js"
    ></script>
  </body>
</html>
